{"version":3,"sources":["webpack://ZXC/webpack/universalModuleDefinition","webpack://ZXC/webpack/bootstrap","webpack://ZXC/./src/Classes/Chart/Chart.ts","webpack://ZXC/./src/Classes/Chart/Dom.ts","webpack://ZXC/./src/Classes/Chart/Layer.ts","webpack://ZXC/./src/Classes/Chart/RangePreview.ts","webpack://ZXC/./src/Classes/Chart/SubLayer.ts","webpack://ZXC/./src/Classes/index.ts","webpack://ZXC/./src/index.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ZXC\"] = factory();\n\telse\n\t\troot[\"ZXC\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","import {IChartOptions} from \"../../Interfaces/IChartOptions\";\nimport {Layer} from \"./Layer\";\nimport {RangePreview} from \"./RangePreview\";\nimport {Dom} from \"./Dom\";\n\nexport class Chart {\n    get $themeDark(): boolean {\n        return this._$themeDark;\n    }\n\n    set $themeDark(value: boolean) {\n        this._$themeDark = value;\n\n        this.$bgColor = this._$themeDark ? '#222f3f' : '#ffffff';\n        this.$textColor = this._$themeDark ? '#4c6475' : '#95a4ad';\n        this.$linesColor = this._$themeDark ? '#263545' : '#dee6eb';\n        this.$rangeBgColor = this._$themeDark ? 'rgba(29, 43, 57, 0.8)' : 'rgba(244, 249, 251, 0.80)';\n        this.$rangeEdgeBg = this._$themeDark ? 'rgba(58, 86, 109, 0.92)' : 'rgba(218, 235, 244, 0.91)';\n        this.$tooltipBg = this._$themeDark ? '#213242' : '#ffffff';\n        this.$canvas.style.background = this.$bgColor;\n        this.$container.style.background = this.$bgColor;\n        let headerValuesColor = this._$themeDark ? '#ffffff' : '#222222';\n        if (this.$divValuesOfDate) {\n            this.$divValuesOfDate.style.background = this.$tooltipBg;\n            this.$divValuesOfDate.style.color = headerValuesColor;\n        }\n        if (this.$divDateX) {\n            this.$divDateX.style.background = this._$themeDark ? '#374a5b' : '#dee6eb';\n        }\n\n        if (this.$rangePreview) {\n            this.$rangePreview.$chart.$themeDark = value;\n            this.$rangePreview.$elRight.style.background = this.$rangeBgColor;\n            this.$rangePreview.$elLeft.style.background = this.$rangeBgColor;\n            this.$rangePreview.$elLeftEdge.style.background = this.$rangeEdgeBg;\n            this.$rangePreview.$elRightEdge.style.background = this.$rangeEdgeBg;\n        }\n\n        this.draw();\n    }\n\n    public $textColor: string = '#95a4ad';\n    public $bgColor: string = '#ffffff';\n    public $linesColor: string = '#dee6eb';\n    public $rangeBgColor: string = 'rgba(244, 249, 251, 0.80)';\n    public $rangeEdgeBg: string = '#3a566d';\n    public $tooltipBg: string = '#ffffff';\n\n    public $container: HTMLElement;\n\n    public $canvas: HTMLCanvasElement;\n    public $ctx: CanvasRenderingContext2D;\n    public $canvasHeight: number;\n    public $canvasWidth: number;\n\n    public $canvasViewHeight: number;\n    public $canvasViewWidth: number;\n\n    public $options: IChartOptions;\n    public $layers: Layer[] = [];\n\n    public $minYValue: number;\n    public $maxYValue: number;\n\n    public $marginTop: number = 50;\n    public $marginRight: number = 50;\n    public $marginBottom: number = 50;\n    public $marginLeft: number = 50;\n\n    public $sectionsCountYValues: number = 7;\n    public $sectionsYValues: number[] = [];\n\n\n    public $sectionsCountXDates: number = 25;\n    public $allDatesOfVisibleLayers: number[] = [];\n\n    public $deltaYValues: number; //Step for drawing value lines\n    public $deltaXDates: number;//Step for drawing date lines\n\n    public $startDatesIndex: number = 0;//compute with drag chart\n    public $dragged: boolean = false;\n    public $currentSessionMouseOffset: number = 0;\n    public $totalMouseOffset: number = 0;\n\n    public $isPreview: boolean = false;\n    public $rangePreview: RangePreview;\n\n    public $divValuesOfDate: HTMLElement;\n    public $divDateX: HTMLElement;\n    public $divCanWrapper: HTMLElement;\n\n    public $debug: boolean = false;\n    public $days: string[] = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\n    private _$themeDark: boolean = false;\n    public legendContainer: HTMLElement;\n\n    public $fontSize: number = 14;\n    public $fontStyle: string = 'Arial';\n\n    public constructor(options: IChartOptions) {\n        this.$options = options;\n        this.$isPreview = this.$options.isPreview;\n        this.initializeCanvas();\n        this.initializeHeightAndWidth();\n\n        this.initializeLayers();\n        this.initializeMinMaxValues();\n        this.initializeDates();\n        this.initializeYValues();\n\n        if (this.$options.showPreview) {\n            this.createPreviewCanvas();\n        }\n\n        if (!this.$isPreview) {\n            this.createLegend();\n            this.createThemeBtn();\n        }\n\n\n        if (this.$startDatesIndex + this.$sectionsCountXDates > this.$allDatesOfVisibleLayers.length) {\n            this.$startDatesIndex = this.$allDatesOfVisibleLayers.length - this.$sectionsCountXDates;\n        }\n        this.draw();\n        if (!this.$isPreview) {\n            this.initEvents();\n        }\n\n    }\n\n    public createThemeBtn(): HTMLElement {\n        let label = document.createElement('label');\n        label.className = 'zxc-chart-layer-label';\n        label.style.background = '#222f3f';\n        label.style.color = '#ffffff';\n        let span = document.createElement('span');\n        span.innerText = 'Dark mode';\n        // span.style.background = '#ffffff';\n        let checkbox = document.createElement('input');\n        checkbox.type = 'checkbox';\n        checkbox.checked = this.$themeDark;\n        label.appendChild(checkbox);\n        label.appendChild(span);\n        checkbox.addEventListener('click', () => {\n            this.$themeDark = checkbox.checked\n        });\n        return label;\n    }\n\n    public initEvents() {\n        window.onresize = () => {\n            let width = this.$options.width;\n\n            if (this.$divCanWrapper.offsetWidth < this.$options.width) {\n                width = this.$divCanWrapper.offsetWidth;\n            }\n\n            this.$canvas.width = width;\n            this.initializeHeightAndWidth(width);\n            this.updateAllStateForRedraw();\n            this.draw();\n\n        };\n        this.$canvas.addEventListener(\"mousedown\", (e) => {\n            // console.log(e);\n            this.$currentSessionMouseOffset = e.offsetX;\n            this.$dragged = true;\n        }, false);\n\n        document.addEventListener(\"mouseup\", (e) => {\n            this.$dragged = false;\n        }, false);\n        let oldStart: number = 0;\n\n        this.$canvas.addEventListener(\"mousemove\", (e) => {\n            if (this.$dragged) {\n                let curOffsetX = e.offsetX - this.$currentSessionMouseOffset;\n                let $startDatesIndex = Math.floor(Math.abs(this.$totalMouseOffset) / this.$deltaXDates);\n\n                if ((($startDatesIndex + this.$sectionsCountXDates) > this.$allDatesOfVisibleLayers.length) && curOffsetX <= 0) {\n                    this.draw();\n                    return false;\n                }\n\n                if ($startDatesIndex === 0 && curOffsetX > 0) {\n                    this.draw();\n                    return false;\n                }\n\n                this.$totalMouseOffset += curOffsetX;\n                if (this.$totalMouseOffset > 0) {\n                    this.$totalMouseOffset = 0;\n                }\n\n                this.$startDatesIndex = $startDatesIndex;\n                if (this.$startDatesIndex > this.$allDatesOfVisibleLayers.length - this.$sectionsCountXDates) {\n                    this.$startDatesIndex = this.$allDatesOfVisibleLayers.length - this.$sectionsCountXDates;\n                } else {\n                    this.draw();\n                }\n                this.$currentSessionMouseOffset = e.offsetX;\n                this.$rangePreview.$middleOffsetLeft = (this.$startDatesIndex * this.$rangePreview.$chart.$deltaXDates + this.$rangePreview.$chart.$marginLeft);\n                this.clearValuesHTML();\n            } else {\n                let parentOffset = this.$canvas.parentElement.offsetLeft;\n                let clientX = e.clientX - this.$marginLeft - (this.$deltaXDates / 2);\n                let total = this.$totalMouseOffset - (clientX - parentOffset);\n                if (clientX > 0 && clientX < (this.$canvasViewWidth + parentOffset)) {\n                    let $startDatesIndex = Math.floor(Math.abs(total) / this.$deltaXDates);\n\n                    let x = this.$totalMouseOffset - total;\n                    let left = ($startDatesIndex * this.$deltaXDates) + this.$deltaXDates + this.$marginLeft;\n                    left = left + this.$totalMouseOffset;\n                    this.$divDateX.style.left = (left - (this.$divDateX.offsetWidth / 2)) + 'px';\n                    this.$divDateX.style.bottom = (this.$marginBottom + 3) + 'px';\n                    this.$divValuesOfDate.style.left = (left - (this.$divValuesOfDate.offsetWidth / 2)) + 'px';\n                    this.showValuesForDates($startDatesIndex);\n                }\n            }\n        }, false);\n    }\n\n    public clearValuesHTML() {\n        this.$divValuesOfDate.innerHTML = '';\n    }\n\n    public showValuesForDates(startIndex: number) {\n        this.clearValuesHTML();\n        let text: string;\n        let date = this.$allDatesOfVisibleLayers[startIndex];\n        if (!date) {\n            return false;\n        }\n        let dateInst = new Date(date);\n        text = this.getFormattedDateString(dateInst);\n        text = this.$days[dateInst.getDay()] + ', ' + text;\n\n        let header = Dom.crEl('div');\n        header.className = 'date-values-div_header';\n        header.innerText = text;\n        this.$divValuesOfDate.appendChild(header);\n\n        let content = Dom.crEl('div');\n        content.className = 'date-values-div_content';\n\n        for (let i = 0; i < this.$layers.length; i++) {\n            let values = this.$layers[i].getValuesForDate(date);\n            for (let k = 0; k < values.length; k++) {\n                let div = Dom.crEl('div');\n                div.style.color = values[k].color;\n\n                let divVal = Dom.crEl('div');\n                divVal.innerText = String(values[k].value);\n\n                let divName = Dom.crEl('div');\n                divName.innerText = values[k].name;\n                div.appendChild(divVal);\n                div.appendChild(divName);\n                content.appendChild(div);\n            }\n        }\n        this.$divValuesOfDate.appendChild(content);\n    }\n\n    public createLegend() {\n        this.legendContainer = document.createElement('div');\n        this.legendContainer.className = 'zxc-chart-container_legend';\n        this.$container.appendChild(this.legendContainer);\n        for (let k in this.$layers) {\n            let div = document.createElement('div');\n            div.className = 'zxc-chart-container_legend_block';\n            for (let j in this.$layers[k].subLayers) {\n                div.appendChild(this.$layers[k].subLayers[j].getLegendButton())\n            }\n            this.legendContainer.appendChild(div);\n        }\n        let div = document.createElement('div');\n        div.className = 'zxc-chart-container_legend_block';\n        div.appendChild(this.createThemeBtn());\n        this.legendContainer.appendChild(div);\n    }\n\n    private initializeCanvas() {\n        let parent: Element;\n        if (typeof this.$options.parent === 'object') {\n            parent = this.$options.parent;\n        } else {\n            parent = document.querySelector(this.$options.parent);\n\n        }\n        if (!parent) {\n            throw \"Can not get parent element\";\n        }\n        this.$canvas = document.createElement('canvas');\n        this.$canvas.width = this.$options.width;\n        this.$canvas.height = this.$options.height;\n        // this.$canvas.style.background = '#ffffff';\n        this.$ctx = this.$canvas.getContext('2d');\n\n        if (this.$isPreview) {\n            this.$container = document.createElement('div');\n            this.$container.className = 'zxc-chart-container';\n            this.$container.appendChild(this.$canvas);\n        } else {\n            this.$divCanWrapper = document.createElement('div');\n            this.$divCanWrapper.appendChild(this.$canvas);\n            this.$divCanWrapper.className = 'canvas-wrapper';\n\n            this.$container = document.createElement('div');\n            this.$container.className = 'zxc-chart-container';\n            this.$container.appendChild(this.$divCanWrapper);\n\n            this.$divDateX = document.createElement('div');\n            this.$divDateX.className = 'date-div';\n            this.$divCanWrapper.appendChild(this.$divDateX);\n\n            this.$divValuesOfDate = document.createElement('div');\n            this.$divValuesOfDate.className = 'date-values-div';\n            this.$divCanWrapper.appendChild(this.$divValuesOfDate)\n        }\n        parent.appendChild(this.$container);\n    }\n\n    public initializeHeightAndWidth(width?: number, height?: number) {\n        this.$canvasHeight = height || this.$options.height;\n        this.$canvasWidth = width || this.$options.width;\n\n        this.$canvasViewHeight = this.$canvasHeight - this.$marginTop - this.$marginBottom;\n        this.$canvasViewWidth = this.$canvasWidth - this.$marginLeft - this.$marginRight;\n    }\n\n    public initializeDeltas() {\n        this.$deltaYValues = this.$canvasViewHeight / this.$sectionsCountYValues;\n        this.$deltaXDates = this.$canvasViewWidth / this.$sectionsCountXDates;\n    }\n\n    public initializeLayers() {\n        for (let i = 0; i < this.$options.data.length; i++) {\n            this.$layers.push(new Layer(i, this.$options.data[i], this));\n        }\n    }\n\n    public initializeMinMaxValues() {\n        let minimums = [], maximums = [];\n\n        for (let i = 0; i < this.$layers.length; i++) {\n            let layer = this.$layers[i];\n            minimums.push(layer.min);\n            maximums.push(layer.max);\n        }\n\n        this.$minYValue = Math.min.apply(null, minimums);\n        this.$maxYValue = Math.max.apply(null, maximums);\n    }\n\n    private initializeDates() {\n        this.$allDatesOfVisibleLayers = [];\n        for (let k in this.$layers) {\n            let arrDates = this.$layers[k].getDatesForVisibleLayers();\n            this.$allDatesOfVisibleLayers = this.$allDatesOfVisibleLayers.concat(arrDates);\n        }\n        this.cleanDates();\n        this.sortDates();\n    }\n\n    private cleanDates() {\n        this.$allDatesOfVisibleLayers = this.$allDatesOfVisibleLayers.filter(function (value, index, that) {\n            return that.indexOf(value) === index;\n        })\n    }\n\n    private sortDates() {\n        this.$allDatesOfVisibleLayers.sort((a, b) => a - b)\n    }\n\n    private initializeYValues() {\n        this.$sectionsYValues = [];\n        for (let i = 0; i < this.$sectionsCountYValues; i++) {\n            let valuePerGrid = this.$maxYValue / this.$sectionsCountYValues;\n            this.$sectionsYValues.push(Math.floor(valuePerGrid * i));\n        }\n        this.$sectionsYValues.sort((a, b) => b - a);\n    }\n\n    public drawXDateLines() {\n        let x: number;\n        let y: number;\n\n        if (this.$debug) {\n            this.$ctx.lineWidth = 1;\n            this.$ctx.strokeStyle = 'red';\n            this.$ctx.setLineDash([3, 7]);\n            this.$ctx.beginPath();\n        }\n\n        let count = this.$sectionsCountXDates + this.$startDatesIndex;\n        let dateTextPixelStep = 15;\n        let dateTextStep = Math.floor(this.$sectionsCountXDates / dateTextPixelStep);\n        if (dateTextStep <= 1) {\n            dateTextStep = 2;\n        }\n        for (let i = this.$startDatesIndex; i < count; i++) {\n            if (i % dateTextStep === 1) {\n                if (i === 0) {\n                    x = this.$deltaXDates + this.$marginLeft;\n                } else {\n                    x = this.$deltaXDates * (i + 1) + this.$marginLeft;\n                }\n                y = this.$canvasHeight - this.$marginBottom;\n                if (this.$debug) {\n                    this.$ctx.moveTo(x, this.$marginTop);\n                    this.$ctx.lineTo(x, y);\n                    this.$ctx.stroke();\n                }\n                if (this.$allDatesOfVisibleLayers[i]) {\n                    this.drawXDates(new Date(this.$allDatesOfVisibleLayers[i]), x - (this.$fontSize + 5), y + 20);\n                }\n            }\n        }\n    }\n\n    public drawXDateBottomLine() {\n        this.$ctx.lineWidth = 3;\n        this.$ctx.strokeStyle = this.$linesColor;\n        this.$ctx.beginPath();\n        let x = this.$marginLeft;\n        let y = this.$canvasHeight - this.$marginBottom;\n        this.$ctx.moveTo(x, y);\n        x = this.$canvasWidth - this.$marginRight;\n        this.$ctx.lineTo(x, y);\n        this.$ctx.stroke();\n    }\n\n    public getFormattedDateString(date: Date): string {\n        let months: { [key: number]: string } = {\n            0: 'Jan',\n            1: 'Feb',\n            2: 'Mar',\n            3: 'Apr',\n            4: 'May',\n            5: 'June',\n            6: 'July',\n            7: 'Aug',\n            8: 'Sept',\n            9: 'Oct',\n            10: 'Nov',\n            11: 'Dec'\n        };\n        return months[date.getMonth()] + ' ' + date.getDate()\n    }\n\n    public drawXDates(date: Date, x: number, y: number) {\n        this.$ctx.fillStyle = this.$textColor;\n        this.$ctx.font = this.$fontSize + \"px \" + this.$fontStyle;\n        this.$ctx.fillText(this.getFormattedDateString(date), x, y)\n    }\n\n    public drawYValuesLines() {\n        // this.drawLeftVerticalLine();\n\n\n        let x: number;\n        let y: number;\n\n\n        this.$ctx.lineWidth = 2;\n        this.$ctx.strokeStyle = this.$linesColor;\n        this.$ctx.beginPath();\n\n        x = this.$marginLeft;\n        y = this.$marginTop;\n        this.drawYLine(x, y, this.$maxYValue);\n\n        for (let i = 0; i < this.$sectionsCountYValues; i++) {\n            x = this.$marginLeft;\n            if (i === 0) {\n                y = this.$marginTop + this.$deltaYValues;\n            } else {\n                y = this.$marginTop + this.$deltaYValues * i + this.$deltaYValues;\n            }\n            this.drawYLine(x, y, this.$sectionsYValues[i]);\n        }\n    }\n\n    public drawYLine(x: number, y: number, date: number) {\n        this.$ctx.moveTo(x, y);\n        x = this.$canvasViewWidth + this.$marginLeft;\n        this.$ctx.lineTo(x, y);\n        this.$ctx.stroke();\n        this.drawYValues(date, x, y);\n    }\n\n    public drawLeftVerticalLine() {\n        this.$ctx.lineWidth = 3;\n        this.$ctx.strokeStyle = this.$linesColor;\n        this.$ctx.beginPath();\n        let x = this.$marginLeft;\n        let y = this.$marginTop;\n        this.$ctx.moveTo(x, y);\n        y = y + this.$canvasViewHeight;\n        this.$ctx.lineTo(x, y);\n        this.$ctx.stroke();\n    }\n\n    public drawYValues(value: number, x: number, y: number) {\n        this.$ctx.fillStyle = this.$textColor;\n        this.$ctx.font = this.$fontSize + \"px \" + this.$fontStyle;\n        this.$ctx.fillText(String(value), x - x + 55, y - 5)\n    }\n\n    public draw() {\n        this.initializeDeltas();\n        this.$ctx.clearRect(0, 0, this.$canvasWidth, this.$canvasHeight);\n        if (!this.$isPreview) {\n            // this.drawXDateBottomLine();\n            this.drawYValuesLines();\n        }\n\n\n        let offset = this.$startDatesIndex * this.$deltaXDates;\n        let quickMouseMoveFix = 50;\n        if (Math.abs(this.$totalMouseOffset) + quickMouseMoveFix < (offset) - this.$deltaXDates) {\n            this.$totalMouseOffset = -offset;\n        }\n\n        this.$ctx.save();\n        this.$ctx.translate(this.$totalMouseOffset, 0);\n\n        if (!this.$isPreview) {\n            this.drawXDateLines();\n        }\n\n        this.drawLayers();\n        this.$ctx.restore();\n\n        this.$ctx.clearRect(0, 0, this.$marginLeft, this.$canvasHeight);\n        this.$ctx.clearRect(this.$canvasWidth - this.$marginRight, 0, this.$marginRight, this.$canvasHeight);\n    }\n\n    public drawLayers() {\n        this.$ctx.beginPath();\n        for (let i = 0; i < this.$layers.length; i++) {\n            let oldDate: number = null;\n            for (let d = (this.$startDatesIndex - 1); d < this.$startDatesIndex + this.$sectionsCountXDates + 1; d++) {\n                let date = this.$allDatesOfVisibleLayers[d];\n                this.$layers[i].draw(date, oldDate, d);\n                oldDate = date;\n            }\n        }\n    }\n\n    public drawRange(startIndex: number, sectionCount: number) {\n        this.$startDatesIndex = startIndex;\n        this.$sectionsCountXDates = sectionCount;\n        this.initializeDeltas();\n        this.$totalMouseOffset = -this.$startDatesIndex * this.$deltaXDates;\n        this.draw();\n    }\n\n    public createPreviewCanvas() {\n        let options = {...this.$options};\n        options.width = this.$canvas.width;\n        if (this.$rangePreview) {\n            this.$rangePreview.reInit(options);\n        } else {\n            this.$rangePreview = new RangePreview(options, this);\n            let html = this.$rangePreview.getHTML();\n            this.$container.appendChild(html);\n            this.$rangePreview.initializeDivParams();\n        }\n        this.$rangePreview.$chart.$themeDark = this.$themeDark;\n    }\n\n    public updateAllStateForRedraw() {\n        this.initializeMinMaxValues();\n        this.initializeDates();\n        this.initializeYValues();\n        if (this.$startDatesIndex + this.$sectionsCountXDates > this.$allDatesOfVisibleLayers.length) {\n            this.$startDatesIndex = 0;\n            this.$sectionsCountXDates = 30;\n            this.$totalMouseOffset = 0;\n        }\n        this.createPreviewCanvas();\n    }\n\n    public destroy() {\n        this.$canvas.remove();\n    }\n}","export class Dom {\n    public static crEl(name: string): HTMLElement {\n        return document.createElement(name)\n    }\n\n    public static addEv(el: HTMLElement, evName: string, func: () => void) {\n        el.addEventListener(evName, func)\n    }\n}","import {IChartVector} from \"../../Interfaces/IChartVector\";\nimport {Chart} from \"./Chart\";\nimport {SubLayer} from \"./SubLayer\";\nimport {ISubLyersOptions} from \"../../Interfaces/ISubLyersOptions\";\n\nexport class Layer {\n    get max(): number {\n        let max = [];\n        for (let i = 0; i < this.subLayers.length; i++) {\n            if (this.subLayers[i].visible) {\n                max.push(this.subLayers[i].max);\n            }\n        }\n        this._max = Math.max.apply(null, max);\n        max = null;\n        return this._max;\n    }\n\n    get min(): number {\n        let min = [];\n        for (let i = 0; i < this.subLayers.length; i++) {\n            if (this.subLayers[i].visible) {\n                min.push(this.subLayers[i].min);\n            }\n        }\n        this._min = Math.min.apply(null, min);\n        min = null;\n        return this._min;\n    }\n\n    public id: number | string;\n    private _min: number;\n    private _max: number;\n    private chart: Chart;\n    public options: IChartVector;\n    public subLayers: SubLayer[] = [];\n    public dateCollumnIndexInColumns: number;\n\n\n    constructor(id: number | string, options: IChartVector, chart: Chart) {\n        this.chart = chart;\n        this.id = id;\n        this.options = options;\n        if (!this.options.visibility) {\n            this.options.visibility = {};\n        }\n\n        let dates = this.getDates();\n\n        // let minimums = [], maximums = [];\n\n        for (let i = 0; i < this.options.columns.length; i++) {\n            let tmpName = this.options.columns[i][0];\n            if (tmpName !== 'x') {\n                if (!this.options.colors[tmpName]) {\n                    throw 'options.colors ' + tmpName + ' not found';\n                }\n                if (!this.options.names[tmpName]) {\n                    throw 'options.names ' + tmpName + ' not found';\n                }\n                if (!this.options.types[tmpName]) {\n                    throw 'options.types ' + tmpName + ' not found';\n                }\n                let yValues = [...this.options.columns[i]];\n                yValues.splice(0, 1);\n\n                let min = Math.min.apply(null, yValues);\n                let max = Math.max.apply(null, yValues);\n\n                let subDates: { [key: string]: number } = {};\n\n                for (let j = 0; j < dates.length; j++) {\n                    subDates[dates[j]] = yValues[j];\n                }\n                let visible = true;\n                if (this.options.visibility[this.options.names[tmpName]] !== undefined) {\n                    visible = this.options.visibility[this.options.names[tmpName]];\n                }\n                let subLayerOpitions: ISubLyersOptions = {\n                    color: this.options.colors[tmpName],\n                    name: this.options.names[tmpName],\n                    type: this.options.types[tmpName],\n                    dates: subDates,\n                    visible: visible\n                };\n\n                let subLayer = new SubLayer(subLayerOpitions, this.chart, min, max, this);\n                this.subLayers.push(subLayer);\n            }\n        }\n\n        // this._min = Math.min.apply(null, minimums);\n        // this._max = Math.max.apply(null, maximums);\n    }\n\n    public getDates(): number[] {\n        for (let i = 0; i < this.options.columns.length; i++) {\n            if (this.options.columns[i][0] === 'x') {\n                this.dateCollumnIndexInColumns = i;\n                let arr = [...this.options.columns[i]];\n                arr.splice(0, 1);\n                return arr;\n            }\n        }\n        return [];\n    }\n\n\n    public getDatesForVisibleLayers(): number[] {\n        let returnDates = false;\n        for (let k = 0; k < this.subLayers.length; k++) {\n            if (this.subLayers[k].visible) {\n                returnDates = true;\n                break;\n            }\n        }\n        if (returnDates) {\n            for (let i = 0; i < this.options.columns.length; i++) {\n                if (this.options.columns[i][0] === 'x') {\n                    this.dateCollumnIndexInColumns = i;\n                    let arr = [...this.options.columns[i]];\n                    arr.splice(0, 1);\n                    return arr;\n                }\n            }\n        }\n        return [];\n    }\n\n    public draw(date: number, oldDate: number, dateIndex: number) {\n        for (let i = 0; i < this.subLayers.length; i++) {\n            if (this.subLayers[i].visible === true) {\n                this.subLayers[i].draw(date, oldDate, dateIndex);\n            }\n        }\n    }\n\n    public getValuesForDate(date: number): { name: string, value: number, color: string } [] {\n        let result = [];\n        for (let i = 0; i < this.subLayers.length; i++) {\n            if (this.subLayers[i].visible && this.subLayers[i].dates[date]) {\n                result.push({\n                    name: this.subLayers[i].name,\n                    value: this.subLayers[i].dates[date],\n                    color: this.subLayers[i].color\n                })\n            }\n        }\n        return result;\n    }\n}","import {IChartOptions} from \"../../Interfaces/IChartOptions\";\nimport {Chart} from \"./Chart\";\nimport {Dom} from \"./Dom\";\n\nexport class RangePreview {\n    get $middleWidth(): number {\n        return this._$middleWidth;\n    }\n\n    set $middleWidth(value: number) {\n        this._$middleWidth = value;\n        this.$elMiddle.style.width = this._$middleWidth + 'px';\n    }\n\n    get $middleOffsetLeft(): number {\n        return this._$middleOffsetLeft;\n    }\n\n    set $middleOffsetLeft(value: number) {\n        this._$middleOffsetLeft = value;\n        this.$elMiddle.style.left = this._$middleOffsetLeft + 'px';\n\n        this.$elLeft.style.left = this.$chart.$marginLeft + 'px';\n        this.$elLeft.style.width = this._$middleOffsetLeft - this.$chart.$marginLeft + 'px';\n\n        this.$elRight.style.right = this.$chart.$marginRight + 'px';\n\n        let width = this.$elWrapper.offsetWidth\n            - this.$chart.$marginRight\n            - this._$middleOffsetLeft\n            - this.$elMiddle.offsetWidth;\n        this.$elRight.style.width = width + 'px';\n    }\n\n    public $chart: Chart;\n    public $parentChart: Chart;\n\n    public $elPreview: HTMLElement;\n    public $elWrapper: HTMLElement;\n    public $elMiddle: HTMLElement;\n    public $elLeft: HTMLElement;\n    public $elRight: HTMLElement;\n    public $elLeftEdge: HTMLElement;\n    public $elRightEdge: HTMLElement;\n\n    private _$middleOffsetLeft: number;\n    private _$middleWidth: number;\n\n    public $options: IChartOptions;\n\n    public $draggedMain: boolean = false;\n    public $draggedLeftEdge: boolean = false;\n    public $draggedRightEdge: boolean = false;\n    public $dragPositionStart: number = 0;\n    public $minWidth: number = 30;\n\n    constructor(options: IChartOptions, parentChart: Chart) {\n        this.$parentChart = parentChart;\n        this.$options = options;\n        this.$options.showPreview = false;\n        this.$options.isPreview = true;\n        this.$options.height = 150;\n        this.createHTML();\n        this.$options.parent = this.$elPreview;\n        this.$chart = new Chart(this.$options);\n        this.$chart.$startDatesIndex = 0;\n        this.$chart.$sectionsCountXDates = parentChart.$allDatesOfVisibleLayers.length;\n        this.$chart.$sectionsCountYValues = 2;\n        this.$chart.$totalMouseOffset = 0;\n        this.$chart.draw();\n    }\n\n    public createHTML() {\n        this.$elPreview = Dom.crEl('div');\n        this.$elPreview.style.height = this.$options.height + 'px';\n        this.$elPreview.className = 'zxc-chart-container_preview';\n        this.$elPreview.style.width = this.$options.width + 'px';\n\n        this.$elWrapper = Dom.crEl('div');\n        this.$elWrapper.className = 'wrapper';\n\n        this.$elLeft = Dom.crEl('div');\n        this.$elLeft.className = 'box';\n\n        this.$elMiddle = Dom.crEl('div');\n        this.$elMiddle.className = 'box middle';\n\n        this.$elRight = Dom.crEl('div');\n        this.$elRight.className = 'box right-box';\n\n        this.$elLeftEdge = Dom.crEl('div');\n        this.$elLeftEdge.className = 'edges edges-left';\n\n        this.$elRightEdge = Dom.crEl('div');\n        this.$elRightEdge.className = 'edges edges-right';\n\n        this.$elWrapper.appendChild(this.$elLeft);\n        this.$elWrapper.appendChild(this.$elMiddle);\n        this.$elWrapper.appendChild(this.$elRight);\n\n        this.$elMiddle.appendChild(this.$elLeftEdge);\n        this.$elMiddle.appendChild(this.$elRightEdge);\n\n        this.$elPreview.appendChild(this.$elWrapper);\n    }\n\n    public getHTML(): HTMLElement {\n        return this.$elPreview;\n    }\n\n    public initializeDivParams() {\n        this.$middleWidth = this.$parentChart.$sectionsCountXDates * this.$chart.$deltaXDates;\n        this.$middleOffsetLeft = (this.$parentChart.$startDatesIndex * this.$chart.$deltaXDates) + this.$chart.$marginLeft;\n        this.initializeEvents();//rm before init ev\n    }\n\n    public initializeEvents() {\n        this.$elMiddle.addEventListener('mousedown', (e) => {\n            e.stopPropagation();\n            this.$draggedMain = true;\n            this.$dragPositionStart = e.clientX;\n        });\n        this.$elLeftEdge.addEventListener('mousedown', (e) => {\n            e.stopPropagation();\n            this.$draggedLeftEdge = true;\n            this.$dragPositionStart = e.clientX;\n        });\n        this.$elRightEdge.addEventListener('mousedown', (e) => {\n            e.stopPropagation();\n            this.$draggedRightEdge = true;\n            this.$dragPositionStart = e.clientX;\n        });\n        const moveHandlers = (e: MouseEvent) => {\n            if (this.$draggedMain) {\n                let pos1 = e.clientX - this.$dragPositionStart;\n                let pos3 = this.$elMiddle.offsetLeft + pos1;\n                if (pos3 + this.$elMiddle.offsetWidth > this.$elWrapper.offsetWidth - this.$chart.$marginRight) {\n                    this.$middleOffsetLeft = this.$elWrapper.offsetWidth - this.$elMiddle.offsetWidth - this.$chart.$marginRight;\n                    return false;\n                }\n                if (pos3 < this.$chart.$marginLeft) {\n                    this.$middleOffsetLeft = this.$chart.$marginLeft;\n                    return false;\n                }\n                this.$middleOffsetLeft = pos3;\n                this.$dragPositionStart = e.clientX\n            }\n            if (this.$draggedLeftEdge) {\n                let pos1 = e.clientX - this.$dragPositionStart;\n                let width = (this.$elMiddle.offsetWidth - pos1);\n                let pos3 = this.$elMiddle.offsetLeft + pos1;\n                if (width < this.$minWidth) {\n                    this.$middleWidth = this.$minWidth;\n                    return false;\n                }\n                if (pos3 < this.$chart.$marginLeft) {\n                    this.$middleOffsetLeft = this.$chart.$marginLeft;\n                    return false;\n                }\n                this.$middleWidth = width;\n                this.$middleOffsetLeft = pos3;\n                this.$dragPositionStart = e.clientX;\n            }\n            if (this.$draggedRightEdge) {\n                let pos1 = e.clientX - this.$dragPositionStart;\n                let pos3 = this.$elMiddle.offsetWidth + pos1;\n                if (pos3 + this.$elMiddle.offsetLeft + this.$chart.$marginRight > this.$elWrapper.offsetWidth) {\n                    this.$middleWidth = this.$elWrapper.offsetWidth - this.$elMiddle.offsetLeft - this.$chart.$marginRight;\n                    return false;\n                }\n                if (pos3 < this.$minWidth) {\n                    this.$middleWidth = this.$minWidth;\n                    return false;\n                }\n                this.$middleWidth = pos3;\n                this.$elRight.style.width = (this.$elWrapper.offsetWidth - parseInt(this.$elMiddle.style.left)) - (this.$elMiddle.offsetWidth + this.$chart.$marginRight) + 'px';\n                this.$dragPositionStart = e.clientX;\n            }\n\n            if (this.$draggedMain || this.$draggedLeftEdge || this.$draggedRightEdge) {\n                this.drawRange();\n            }\n        };\n        this.$elWrapper.addEventListener('mousemove', moveHandlers);\n        document.addEventListener('mouseup', () => {\n            this.$draggedMain = false;\n            this.$draggedLeftEdge = false;\n            this.$draggedRightEdge = false;\n            this.$dragPositionStart = 0;\n        });\n\n    }\n\n    public drawRange() {\n        if (this.$middleOffsetLeft) {\n            let startIndex = Math.floor((this.$middleOffsetLeft - this.$chart.$marginLeft) / this.$chart.$deltaXDates);\n            let sectionCount = Math.floor(this.$elMiddle.offsetWidth / this.$chart.$deltaXDates);\n\n            this.$parentChart.drawRange(startIndex, sectionCount);\n        }\n    }\n\n    public reInit(options: IChartOptions, parentChart?: Chart) {\n        this.$chart.destroy();\n        this.$chart = null;\n        this.$elPreview.style.width = options.width + 'px';\n        this.$parentChart = parentChart || this.$parentChart;\n        this.$options = options;\n        this.$options.showPreview = false;\n        this.$options.isPreview = true;\n        this.$options.height = 150;\n        this.$options.parent = this.$elPreview;\n        this.$chart = new Chart(this.$options);\n        this.$chart.$startDatesIndex = 0;\n        this.$chart.$sectionsCountXDates = this.$parentChart.$allDatesOfVisibleLayers.length;\n        this.$chart.$sectionsCountYValues = 2;\n        this.$chart.$totalMouseOffset = 0;\n        this.$chart.draw();\n        this.initializeDivParams();\n\n    }\n}","import {ISubLyers} from \"../../Interfaces/ISubLyers\";\nimport {ISubLyersOptions} from \"../../Interfaces/ISubLyersOptions\";\nimport {Chart} from \"./Chart\";\nimport {Layer} from \"./Layer\";\n\nexport class SubLayer implements ISubLyers {\n    get min(): number {\n        return this._min;\n    }\n\n    get max(): number {\n        return this._max;\n    }\n\n    color: string;\n    dates: { [p: string]: number };\n    type: string;\n    name: string;\n    visible: boolean = true;\n    chart: Chart;\n    readonly _min: number;\n    readonly _max: number;\n    private parentLayer: Layer;\n\n\n    constructor(options: ISubLyersOptions, chart: Chart, min: number, max: number, parentLayer: Layer) {\n        this.color = options.color;\n        this.dates = options.dates;\n        this.type = options.type;\n        this.name = options.name;\n        if (options.visible !== undefined) {\n            this.visible = options.visible;\n        }\n        this.chart = chart;\n        this._min = min;\n        this._max = max;\n        this.parentLayer = parentLayer;\n    }\n\n    public draw(date: number, oldDate: number, dateIndex: number) {\n        if (this.dates[date]) {\n            this.chart.$ctx.beginPath();\n            let coords = this.getCoordsForDate(date, dateIndex);\n            // if(!this.chart.$isPreview){\n            //     this.chart.$ctx.arc(coords.x, coords.y, 5, 0, 2 * Math.PI, false);\n            //     coords = null;\n            //     this.chart.$ctx.fillStyle = this.color;\n            //     this.chart.$ctx.fill();\n            //     this.chart.$ctx.closePath();\n            // }else{\n            this.chart.$ctx.moveTo(coords.x, coords.y);\n            // }\n            if (oldDate) {\n                if (this.dates[oldDate]) {\n                    let dI = dateIndex - 1;\n                    let coords = this.getCoordsForDate(oldDate, dI);\n                    this.chart.$ctx.lineWidth = 1;\n                    this.chart.$ctx.strokeStyle = this.color;\n                    this.chart.$ctx.lineTo(coords.x, coords.y);\n                    coords = null;\n                    this.chart.$ctx.stroke();\n                }\n            }\n            this.chart.$ctx.closePath();\n        }\n    }\n\n    public getCoordsForDate(date: number, dateIndex: number): { x: number, y: number } {\n        let value = this.dates[date];\n\n        let percent = value / this.chart.$maxYValue * 100;\n        let height = this.chart.$canvasViewHeight;\n        let y = height / 100 * percent;\n        y = Math.round(height - y + this.chart.$marginTop);\n\n        let x = dateIndex * this.chart.$deltaXDates + this.chart.$marginLeft + this.chart.$deltaXDates;\n        x = Math.round(x);\n        return {x: x, y: y}\n    }\n\n    /*public getLegendButton(): Element {\n        let label = document.createElement('label');\n        label.className = 'zxc-chart-container_label_container zxc-chart-container_label_container_label_element';\n        let checkbox = document.createElement('input');\n        checkbox.type = 'checkbox';\n        checkbox.checked = this.visible;\n        label.innerText = this.name;\n        label.appendChild(checkbox);\n        let span = document.createElement('span');\n        span.className = 'zxc-chart-container_label_container_checkmark zxc-chart-container_label_container_checkmark_span';\n        span.style.background = this.color;\n        label.appendChild(span);\n        span.addEventListener('click', () => {\n            this.visible = !this.visible;\n            this.parentLayer.options.visibility[this.name] = this.visible;\n            this.chart.updateAllStateForRedraw();\n            this.chart.draw();\n        });\n        return label;\n    }*/\n\n    public getLegendButton(): Element {\n        let label = document.createElement('label');\n        label.className = 'zxc-chart-layer-label';\n        label.style.background = this.color;\n        let span = document.createElement('span');\n        span.innerText = this.name;\n        span.style.background = this.color;\n        let checkbox = document.createElement('input');\n        checkbox.type = 'checkbox';\n        checkbox.checked = this.visible;\n        label.appendChild(checkbox);\n        label.appendChild(span);\n        checkbox.addEventListener('click', () => {\n            this.visible = !this.visible;\n            this.parentLayer.options.visibility[this.name] = this.visible;\n            this.chart.updateAllStateForRedraw();\n            this.chart.draw();\n        });\n        return label;\n    }\n}","export * from './Chart/Chart'","import * as ZXC from './Classes/index'\n// import { data } from '../test_data/chart_data'\n//\n// declare global {\n//     interface Window { chart: any; }\n// }\n//\n//\n// let options = {width: 1400, height: 400, data: data, parent: 'body', showPreview:true/*, isPreview: false*/};\n// // let options = {width: 500, height: 400, data: data, parentId: 'body'};\n// let chart = new ZXC.Chart(options);\n//\n// window.chart = window.chart || chart;\n\nexport * from './Classes/index'"],"sourceRoot":""}